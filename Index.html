<!DOCTYPE html>
<html><body style="padding:40px;font-family:sans-serif;background:#f5f5f5">
<h1>ğŸ” BeatBot Debug</h1>
<div id="log" style="background:#222;color:lime;padding:20px;height:400px;overflow:auto;font-size:14px;white-space:pre-wrap"></div>
<button onclick="testAPI()">Test API</button><br><br>
<button onclick="testLogin()">Test Login</button>

<script>
function log(msg) { 
  document.getElementById('log').textContent += new Date().toLocaleTimeString() + ': ' + msg + '
'; 
  document.getElementById('log').scrollTop = document.getElementById('log').scrollHeight;
}

async function testAPI() {
  log('ğŸ§ª Testing /api...');
  try {
    const r = await fetch('/api?action=getContacts&user=mattblois@gmail.com');
    const data = await r.json();
    log('âœ… API OK: ' + JSON.stringify(data));
  } catch(e) {
    log('âŒ API FAIL: ' + e.message + '
Status: ' + (e.status || 'unknown'));
  }
}

async function testLogin() {
  log('ğŸ”‘ Testing login...');
  const pwd = prompt('Enter password (beatbot2025)');
  if (pwd === 'beatbot2025') {
    log('âœ… Login logic OK');
    await testAPI();
  } else {
    log('âŒ Wrong password');
  }
}

log('Debug loaded. Click Test API first!');
</script>
</body></html>
